<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VPC 기초 - AWS 기초 강의</title>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>

<header class="site-header">
  <div class="header-inner">
    <a href="../index.html" class="header-logo">
      <span class="aws-icon">AWS</span>
      <span>기초 강의</span>
    </a>
  </div>
</header>

<div class="page-layout">
  <nav class="sidebar">
    <ul class="sidebar-nav">
      <li><a href="#what-is-vpc">VPC란?</a></li>
      <li><a href="#subnet">서브넷이란?</a></li>
      <li><a href="#public-private">퍼블릭 vs 프라이빗 서브넷</a></li>
      <li><a href="#route-table">라우팅 테이블</a></li>
      <li><a href="#igw">인터넷 게이트웨이</a></li>
      <li><a href="#cidr">CIDR 표기법</a></li>
      <li><a href="#lab">실습</a></li>
    </ul>
  </nav>

  <main class="main-content">
    <div class="chapter-header">
      <span class="chapter-num">Chapter 08</span>
      <h1>VPC 기초</h1>
      <div class="objectives">
        <h3>학습 목표</h3>
        <ul>
          <li>VPC의 개념과 필요성을 설명할 수 있다</li>
          <li>서브넷, 라우팅 테이블, 인터넷 게이트웨이의 역할을 이해할 수 있다</li>
          <li>퍼블릭 서브넷과 프라이빗 서브넷의 차이를 구분할 수 있다</li>
          <li>커스텀 VPC를 생성하고 서브넷을 구성할 수 있다</li>
        </ul>
      </div>
    </div>

    <!-- VPC란? -->
    <section class="content-section" id="what-is-vpc">
      <h2>VPC란?</h2>

      <p>
        <strong>VPC(Virtual Private Cloud)</strong>는 AWS 클라우드 내에서 나만의
        <strong>격리된 가상 네트워크</strong>를 만드는 서비스입니다.
        EC2, RDS 등의 리소스를 VPC 안에 배치하고, 네트워크 통신 규칙을 직접 설계합니다.
      </p>

      <div class="info-box analogy">
        <div class="info-box-title">비유: 아파트 단지</div>
        <p>
          AWS 클라우드 전체를 거대한 도시라고 생각해보세요.
          <strong>VPC는 이 도시 안에 있는 하나의 아파트 단지</strong>입니다.<br><br>

          아파트 단지에는:<br>
          - <strong>담장</strong>이 있어서 외부와 구분됩니다 (= VPC의 네트워크 격리)<br>
          - <strong>여러 동(빌딩)</strong>이 있습니다 (= 서브넷)<br>
          - <strong>정문</strong>이 있어서 외부와 연결됩니다 (= 인터넷 게이트웨이)<br>
          - <strong>내부 도로</strong>가 있어서 동끼리 연결됩니다 (= 라우팅 테이블)<br>
          - <strong>경비실</strong>이 출입을 관리합니다 (= 보안그룹, NACL)<br><br>

          각 아파트 단지(VPC)는 완전히 독립되어 있어서,
          옆 단지의 주민이 우리 단지에 들어올 수 없습니다.
        </p>
      </div>

      <h3>왜 VPC가 필요한가?</h3>
      <ul>
        <li><strong>보안:</strong> 리소스를 격리하여 외부 접근을 통제</li>
        <li><strong>네트워크 설계:</strong> IP 대역, 서브넷 구조를 직접 설계</li>
        <li><strong>계층 분리:</strong> 웹 서버는 외부에 공개하고, DB는 내부에 숨기기</li>
        <li><strong>규정 준수:</strong> 네트워크 수준의 보안 요구사항 충족</li>
      </ul>

      <div class="info-box concept">
        <div class="info-box-title">기본 VPC vs 커스텀 VPC</div>
        <p>
          AWS 계정을 만들면 각 리전에 <strong>기본 VPC(Default VPC)</strong>가 자동 생성됩니다.
          Chapter 05~06에서 EC2를 만들 때 별도 설정 없이 사용한 것이 바로 이 기본 VPC입니다.<br><br>
          하지만 실무에서는 보안과 구조를 위해 <strong>커스텀 VPC</strong>를 직접 만들어 사용합니다.
          이 챕터에서는 커스텀 VPC를 만들어보겠습니다.
        </p>
      </div>
    </section>

    <!-- 서브넷 -->
    <section class="content-section" id="subnet">
      <h2>서브넷이란?</h2>

      <p>
        <strong>서브넷(Subnet)</strong>은 VPC를 더 작은 네트워크 단위로 나눈 것입니다.
        하나의 VPC 안에 여러 개의 서브넷을 만들 수 있습니다.
      </p>

      <div class="info-box analogy">
        <div class="info-box-title">비유: 아파트 단지의 "동"</div>
        <p>
          아파트 단지(VPC)에는 여러 동(101동, 102동, 103동...)이 있습니다.
          <strong>서브넷은 각각의 동</strong>입니다.<br><br>

          - <strong>101동, 102동 = 퍼블릭 서브넷:</strong> 정문(인터넷)과 직접 연결된 동. 택배 기사가 직접 올 수 있음<br>
          - <strong>201동, 202동 = 프라이빗 서브넷:</strong> 경비실을 통해야만 접근 가능한 동. 외부인 출입 불가
        </p>
      </div>

      <h3>서브넷의 핵심 규칙</h3>
      <ul>
        <li>각 서브넷은 <strong>하나의 가용 영역(AZ)</strong>에 위치합니다</li>
        <li>하나의 가용 영역에 여러 서브넷을 만들 수 있습니다</li>
        <li>서브넷끼리는 같은 VPC 안에서 자유롭게 통신할 수 있습니다</li>
        <li>각 서브넷은 고유한 IP 대역(CIDR)을 가집니다</li>
      </ul>

      <div class="diagram">
        <div class="diagram-title">VPC와 서브넷 구조</div>
        <div class="diagram-group vpc">
          <div class="diagram-group-label">VPC (10.0.0.0/16)</div>
          <div class="diagram-row" style="align-items: flex-start;">
            <div class="diagram-col" style="flex:1">
              <div style="text-align:center; font-weight:600; margin-bottom:8px;">가용 영역 A (2a)</div>
              <div class="diagram-group subnet-pub">
                <div class="diagram-group-label">퍼블릭 서브넷 (10.0.1.0/24)</div>
                <div class="diagram-row">
                  <div class="diagram-box compute">
                    <div class="box-title">EC2</div>
                  </div>
                  <div class="diagram-box network">
                    <div class="box-title">ALB</div>
                  </div>
                </div>
              </div>
              <div class="diagram-group subnet-priv" style="margin-top:8px;">
                <div class="diagram-group-label">프라이빗 서브넷 (10.0.10.0/24)</div>
                <div class="diagram-box database">
                  <div class="box-title">RDS</div>
                </div>
              </div>
            </div>
            <div class="diagram-col" style="flex:1">
              <div style="text-align:center; font-weight:600; margin-bottom:8px;">가용 영역 B (2b)</div>
              <div class="diagram-group subnet-pub">
                <div class="diagram-group-label">퍼블릭 서브넷 (10.0.2.0/24)</div>
                <div class="diagram-row">
                  <div class="diagram-box compute">
                    <div class="box-title">EC2</div>
                  </div>
                  <div class="diagram-box network">
                    <div class="box-title">ALB</div>
                  </div>
                </div>
              </div>
              <div class="diagram-group subnet-priv" style="margin-top:8px;">
                <div class="diagram-group-label">프라이빗 서브넷 (10.0.11.0/24)</div>
                <div class="diagram-box database">
                  <div class="box-title">RDS 대기</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="info-box tip">
        <div class="info-box-title">왜 2개의 가용 영역에 걸쳐 만드나요?</div>
        <p>
          고가용성(High Availability)을 위해서입니다.
          가용 영역 A에 장애가 발생해도, 가용 영역 B에서 서비스를 계속할 수 있습니다.
          AWS의 ALB(로드밸런서)와 RDS(다중 AZ)는 최소 2개의 가용 영역을 요구합니다.
        </p>
      </div>
    </section>

    <!-- 퍼블릭 vs 프라이빗 -->
    <section class="content-section" id="public-private">
      <h2>퍼블릭 서브넷 vs 프라이빗 서브넷</h2>

      <p>
        서브넷 자체에 "퍼블릭/프라이빗" 설정 버튼이 있는 것은 아닙니다.
        <strong>인터넷 게이트웨이로 가는 경로가 라우팅 테이블에 있는지</strong>에 따라 구분됩니다.
      </p>

      <div class="info-box analogy">
        <div class="info-box-title">비유: 도로 연결 여부</div>
        <p>
          아파트 단지에서 어떤 동(101동)은 정문과 바로 도로가 연결되어 있어서
          택배차가 직접 올 수 있습니다 (= <strong>퍼블릭 서브넷</strong>).<br><br>
          반면 어떤 동(201동)은 정문과 직접 도로가 없어서
          정문을 통해 직접 올 수 없습니다. 내부 도로로만 접근 가능합니다 (= <strong>프라이빗 서브넷</strong>).
        </p>
      </div>

      <table>
        <thead>
          <tr>
            <th>구분</th>
            <th>퍼블릭 서브넷</th>
            <th>프라이빗 서브넷</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>인터넷 접근</strong></td>
            <td>인터넷에서 직접 접근 가능</td>
            <td>인터넷에서 직접 접근 불가</td>
          </tr>
          <tr>
            <td><strong>라우팅 테이블</strong></td>
            <td>인터넷 게이트웨이(IGW)로 가는 경로 있음</td>
            <td>IGW로 가는 경로 없음</td>
          </tr>
          <tr>
            <td><strong>퍼블릭 IP</strong></td>
            <td>인스턴스에 퍼블릭 IP 부여 가능</td>
            <td>퍼블릭 IP 필요 없음</td>
          </tr>
          <tr>
            <td><strong>배치할 리소스</strong></td>
            <td>웹 서버, ALB, NAT 게이트웨이</td>
            <td>DB, 내부 API, 캐시</td>
          </tr>
          <tr>
            <td><strong>보안 수준</strong></td>
            <td>외부 노출됨 (보안 강화 필요)</td>
            <td>외부에서 접근 불가 (보안 높음)</td>
          </tr>
        </tbody>
      </table>

      <div class="info-box concept">
        <div class="info-box-title">왜 프라이빗 서브넷이 중요한가요?</div>
        <p>
          데이터베이스(RDS)를 생각해보세요.
          DB에는 사용자 정보, 주문 내역 등 중요한 데이터가 있습니다.
          이 DB를 인터넷에 직접 노출하면 해킹 위험이 매우 높습니다.<br><br>
          그래서 DB는 프라이빗 서브넷에 놓고, API 서버(퍼블릭 서브넷)를 통해서만 접근하게 합니다.
          마치 금고(DB)를 건물 지하(프라이빗)에 두고, 은행원(API)이 대신 출금해주는 것과 같습니다.
        </p>
      </div>
    </section>

    <!-- 라우팅 테이블 -->
    <section class="content-section" id="route-table">
      <h2>라우팅 테이블</h2>

      <p>
        <strong>라우팅 테이블(Route Table)</strong>은 네트워크 트래픽이 어디로 가야 하는지 알려주는
        <strong>도로 표지판</strong>입니다. 각 서브넷은 하나의 라우팅 테이블과 연결됩니다.
      </p>

      <div class="info-box analogy">
        <div class="info-box-title">비유: 도로 표지판</div>
        <p>
          고속도로에서 표지판을 보고 "서울 → 이쪽", "부산 → 저쪽"으로 가죠?
          라우팅 테이블도 마찬가지입니다.<br><br>
          "VPC 내부(10.0.0.0/16) → 로컬(단지 내 도로)"<br>
          "그 외 모든 곳(0.0.0.0/0) → 인터넷 게이트웨이(정문)"<br><br>
          이 표지판이 있으면 인터넷으로 나갈 수 있고 (퍼블릭),
          없으면 나갈 수 없습니다 (프라이빗).
        </p>
      </div>

      <h3>퍼블릭 서브넷의 라우팅 테이블 예시</h3>
      <table>
        <thead>
          <tr>
            <th>대상(Destination)</th>
            <th>타겟(Target)</th>
            <th>설명</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>10.0.0.0/16</code></td>
            <td>local</td>
            <td>VPC 내부 통신은 로컬로</td>
          </tr>
          <tr>
            <td><code>0.0.0.0/0</code></td>
            <td>igw-xxxxxx</td>
            <td>그 외 트래픽은 인터넷 게이트웨이로</td>
          </tr>
        </tbody>
      </table>

      <h3>프라이빗 서브넷의 라우팅 테이블 예시</h3>
      <table>
        <thead>
          <tr>
            <th>대상(Destination)</th>
            <th>타겟(Target)</th>
            <th>설명</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>10.0.0.0/16</code></td>
            <td>local</td>
            <td>VPC 내부 통신만 가능</td>
          </tr>
        </tbody>
      </table>

      <p>
        프라이빗 서브넷의 라우팅 테이블에는 <code>0.0.0.0/0</code> 경로가 없습니다.
        따라서 인터넷으로 나갈 수 없고, 인터넷에서 들어올 수도 없습니다.
        (인터넷 접근이 필요하면 NAT 게이트웨이를 사용합니다 - Chapter 09에서 다룸)
      </p>
    </section>

    <!-- 인터넷 게이트웨이 -->
    <section class="content-section" id="igw">
      <h2>인터넷 게이트웨이 (Internet Gateway, IGW)</h2>

      <p>
        <strong>인터넷 게이트웨이</strong>는 VPC와 인터넷을 연결하는 <strong>출입구</strong>입니다.
        이것이 없으면 VPC 안의 리소스는 인터넷과 통신할 수 없습니다.
      </p>

      <div class="info-box analogy">
        <div class="info-box-title">비유: 아파트 단지의 정문</div>
        <p>
          아파트 단지에 정문이 없으면 외부와 완전히 차단되겠죠?
          인터넷 게이트웨이는 이 정문입니다.<br><br>
          - 정문(IGW)이 있어야 택배(인터넷 트래픽)를 받을 수 있습니다<br>
          - 정문(IGW)이 있어야 주민(EC2)이 외출(인터넷 접속)할 수 있습니다<br>
          - 하나의 VPC에 하나의 IGW만 연결 가능합니다
        </p>
      </div>

      <h3>인터넷 게이트웨이의 특징</h3>
      <ul>
        <li>VPC당 하나만 연결 가능</li>
        <li>수평 확장, 중복, 고가용성이 기본 제공</li>
        <li>추가 비용 없음 (무료)</li>
        <li>생성 후 VPC에 연결(Attach)해야 동작</li>
      </ul>

      <div class="diagram">
        <div class="diagram-title">인터넷 게이트웨이 동작</div>

        <div class="diagram-box user">
          <div class="box-title">인터넷</div>
        </div>

        <div class="diagram-arrow down">&darr;</div>

        <div class="diagram-box network">
          <div class="box-title">인터넷 게이트웨이 (IGW)</div>
          <div class="box-sub">VPC의 정문</div>
        </div>

        <div class="diagram-arrow down">&darr;</div>

        <div class="diagram-group vpc">
          <div class="diagram-group-label">VPC</div>
          <div class="diagram-group subnet-pub">
            <div class="diagram-group-label">퍼블릭 서브넷</div>
            <div class="diagram-box compute">
              <div class="box-title">EC2</div>
            </div>
          </div>
          <div class="diagram-group subnet-priv" style="margin-top: 8px;">
            <div class="diagram-group-label">프라이빗 서브넷</div>
            <div class="diagram-row">
              <div class="diagram-box database">
                <div class="box-title">RDS</div>
              </div>
              <div style="color: #ef4444; font-weight: 600; display: flex; align-items: center; padding-left: 12px;">IGW와 경로 없음!</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CIDR -->
    <section class="content-section" id="cidr">
      <h2>CIDR 표기법</h2>

      <p>
        VPC와 서브넷을 만들 때 IP 주소 범위를 <strong>CIDR(Classless Inter-Domain Routing)</strong> 표기법으로 지정합니다.
        처음에는 어렵게 느껴지지만, 기본만 알면 충분합니다.
      </p>

      <div class="info-box analogy">
        <div class="info-box-title">비유: 우편번호 체계</div>
        <p>
          우편번호 06000은 서울 강남구 전체를 의미하고,
          06100은 강남구 역삼동을 의미합니다. 뒤에 숫자가 구체적일수록 범위가 좁아지죠.<br><br>
          CIDR도 비슷합니다:<br>
          <code>10.0.0.0/16</code> = 10.0.으로 시작하는 모든 IP (65,536개) = "강남구 전체"<br>
          <code>10.0.1.0/24</code> = 10.0.1.으로 시작하는 IP (256개) = "강남구 역삼동"<br>
          <code>10.0.2.0/24</code> = 10.0.2.으로 시작하는 IP (256개) = "강남구 삼성동"
        </p>
      </div>

      <h3>CIDR 읽는 법</h3>
      <p><code>10.0.0.0/16</code>에서:</p>
      <ul>
        <li><code>10.0.0.0</code> = 시작 IP 주소</li>
        <li><code>/16</code> = 네트워크 부분의 비트 수 (고정된 부분)</li>
        <li>숫자가 <strong>클수록</strong> → IP 개수가 <strong>적어짐</strong> (범위가 좁아짐)</li>
        <li>숫자가 <strong>작을수록</strong> → IP 개수가 <strong>많아짐</strong> (범위가 넓어짐)</li>
      </ul>

      <h3>자주 사용하는 CIDR 블록</h3>
      <table>
        <thead>
          <tr>
            <th>CIDR</th>
            <th>IP 개수</th>
            <th>용도</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>/16</code></td>
            <td>65,536개</td>
            <td>VPC (큰 범위)</td>
          </tr>
          <tr>
            <td><code>/20</code></td>
            <td>4,096개</td>
            <td>중간 크기 서브넷</td>
          </tr>
          <tr>
            <td><code>/24</code></td>
            <td>256개</td>
            <td>일반적인 서브넷 (실습에서 사용)</td>
          </tr>
          <tr>
            <td><code>/28</code></td>
            <td>16개</td>
            <td>아주 작은 서브넷</td>
          </tr>
        </tbody>
      </table>

      <div class="info-box tip">
        <div class="info-box-title">이 강의에서 사용할 IP 설계</div>
        <p>
          <strong>VPC:</strong> <code>10.0.0.0/16</code> (65,536개 IP)<br>
          <strong>퍼블릭 서브넷 1:</strong> <code>10.0.1.0/24</code> (AZ-2a, 256개 IP)<br>
          <strong>퍼블릭 서브넷 2:</strong> <code>10.0.2.0/24</code> (AZ-2c, 256개 IP)<br>
          <strong>프라이빗 서브넷 1:</strong> <code>10.0.10.0/24</code> (AZ-2a, 256개 IP)<br>
          <strong>프라이빗 서브넷 2:</strong> <code>10.0.11.0/24</code> (AZ-2c, 256개 IP)
        </p>
      </div>
    </section>

    <!-- 실습 -->
    <section class="content-section" id="lab">
      <h2>실습</h2>

      <div class="lab-section">
        <div class="lab-title">실습: 커스텀 VPC 생성하기</div>

        <div class="info-box warning">
          <div class="info-box-title">실습 전 확인</div>
          <p>
            리전이 <strong>서울(ap-northeast-2)</strong>인지 반드시 확인하세요.
            VPC는 리전 단위 리소스이므로 잘못된 리전에 만들면 나중에 문제가 됩니다.
          </p>
        </div>

        <ol class="steps">
          <li class="step">
            <div class="step-title">VPC 대시보드 이동</div>
            <p>AWS 콘솔 상단 검색바에 <strong>"VPC"</strong>를 입력하고 클릭합니다.</p>
            <p>왼쪽 메뉴에서 <strong>"VPC"</strong>를 클릭하면 현재 VPC 목록이 표시됩니다.</p>
            <p>기본 VPC(Default)는 그대로 두고 새로운 VPC를 만듭니다.</p>
          </li>

          <li class="step">
            <div class="step-title">VPC 생성</div>
            <p><strong>"VPC 생성(Create VPC)"</strong> 버튼을 클릭합니다.</p>
            <p><strong>"VPC만(VPC only)"</strong>을 선택합니다.</p>
            <p>다음과 같이 입력합니다:</p>
            <ul>
              <li><strong>이름 태그:</strong> <code>shop-VPC</code></li>
              <li><strong>IPv4 CIDR 블록:</strong> <code>10.0.0.0/16</code></li>
              <li><strong>IPv6 CIDR 블록:</strong> 없음</li>
              <li><strong>테넌시:</strong> 기본값</li>
            </ul>
            <p><strong>"VPC 생성"</strong> 버튼을 클릭합니다.</p>
          </li>

          <li class="step">
            <div class="step-title">퍼블릭 서브넷 1 생성 (AZ-2a)</div>
            <p>왼쪽 메뉴에서 <strong>"서브넷(Subnets)"</strong>을 클릭합니다.</p>
            <p><strong>"서브넷 생성(Create subnet)"</strong>을 클릭합니다.</p>
            <ul>
              <li><strong>VPC:</strong> <code>shop-VPC</code> 선택</li>
              <li><strong>서브넷 이름:</strong> <code>shop-public-subnet-1</code></li>
              <li><strong>가용 영역:</strong> <code>ap-northeast-2a</code></li>
              <li><strong>IPv4 CIDR 블록:</strong> <code>10.0.1.0/24</code></li>
            </ul>
            <img src="../assets/images/chapter8/create-subnet.png" alt="서브넷 생성 화면">
            <p>마찬가지로 <strong>public-subnet-2, private-subnet-1, private-subnet-2</strong>를 생성합니다.</p>
            <ul>
              <li>public-subnet-2: <code>AZ-2c</code>, <code>10.0.2.0/24</code></li>
              <li>private-subnet-1: <code>AZ-2a</code>, <code>10.0.10.0/24</code></li>
              <li>private-subnet-2: <code>AZ-2c</code>, <code>10.0.11.0/24</code></li>
            </ul>
            <img src="../assets/images/chapter8/subnet-list.png" alt="서브넷 리스트">
          </li>

          <li class="step">
            <div class="step-title">인터넷 게이트웨이 생성</div>
            <p>왼쪽 메뉴에서 <strong>"인터넷 게이트웨이(Internet gateways)"</strong>를 클릭합니다.</p>
            <p><strong>"인터넷 게이트웨이 생성(Create internet gateway)"</strong>을 클릭합니다.</p>
            <ul>
              <li><strong>이름 태그:</strong> <code>shop-IGW</code></li>
            </ul>
            <p><strong>"인터넷 게이트웨이 생성"</strong>을 클릭합니다.</p>
          </li>

          <li class="step">
            <div class="step-title">인터넷 게이트웨이를 VPC에 연결</div>
            <p>생성 직후 상단에 <strong>"VPC에 연결(Attach to a VPC)"</strong> 버튼이 나타납니다. (또는 작업 메뉴에서 선택)</p>
            <p><strong>사용 가능한 VPC:</strong> <code>shop-VPC</code>를 선택합니다.</p>
            <p><strong>"인터넷 게이트웨이 연결"</strong>을 클릭합니다.</p>
            <img src="../assets/images/chapter8/connect-IGW.png" alt="인터넷 게이트웨이 연결">
            <p>상태가 <strong>"Attached"</strong>로 바뀌면 성공입니다.</p>
          </li>

          <li class="step">
            <div class="step-title">퍼블릭 라우팅 테이블 생성</div>
            <p>왼쪽 메뉴에서 <strong>"라우팅 테이블(Route tables)"</strong>을 클릭합니다.</p>
            <p><strong>"라우팅 테이블 생성(Create route table)"</strong>을 클릭합니다.</p>
            <ul>
              <li><strong>이름:</strong> <code>shop-public-RT</code></li>
              <li><strong>VPC:</strong> <code>shop-VPC</code> 선택</li>
            </ul>
            <p><strong>"라우팅 테이블 생성"</strong>을 클릭합니다.</p>
            <img src="../assets/images/chapter8/create-RT.png" alt="라우팅 테이블 생성">
          </li>

          <li class="step">
            <div class="step-title">퍼블릭 라우팅 테이블에 인터넷 경로 추가</div>
            <p>생성된 <code>shop-public-RT</code>를 선택합니다.</p>
            <p>아래 탭에서 <strong>"라우팅(Routes)"</strong> 탭을 클릭합니다.</p>
            <p><strong>"라우팅 편집(Edit routes)"</strong>을 클릭합니다.</p>
            <p><strong>"라우팅 추가(Add route)"</strong>를 클릭합니다:</p>
            <ul>
              <li><strong>대상(Destination):</strong> <code>0.0.0.0/0</code></li>
              <li><strong>타겟(Target):</strong> "인터넷 게이트웨이"를 선택하고 <code>shop-IGW</code>를 선택합니다</li>
            </ul>
            <p><strong>"변경 사항 저장(Save changes)"</strong>을 클릭합니다.</p>
            <img src="../assets/images/chapter8/edit-RT.png" alt="라우팅 테이블 편집, 추가">
          </li>

          <li class="step">
            <div class="step-title">퍼블릭 서브넷에 라우팅 테이블 연결</div>
            <p><code>shop-public-RT</code>를 선택한 상태에서 <strong>"서브넷 연결(Subnet associations)"</strong> 탭을 클릭합니다.</p>
            <p><strong>"서브넷 연결 편집(Edit subnet associations)"</strong>을 클릭합니다.</p>
            <p>다음 2개의 서브넷에 체크합니다:</p>
            <ul>
              <li><code>shop-public-subnet-1</code> (10.0.1.0/24)</li>
              <li><code>shop-public-subnet-2</code> (10.0.2.0/24)</li>
            </ul>
            <p><strong>"연결 저장(Save associations)"</strong>을 클릭합니다.</p>
            <img src="../assets/images/chapter8/connect-public-RT.png" alt="라우팅 테이블 연결">

            <div class="info-box tip">
              <div class="info-box-title">프라이빗 서브넷의 라우팅 테이블은?</div>
              <p>
                프라이빗 서브넷은 VPC 생성 시 자동으로 만들어진 <strong>기본 라우팅 테이블(Main)</strong>을 사용합니다.
                기본 라우팅 테이블에는 <code>10.0.0.0/16 → local</code> 경로만 있으므로
                인터넷 접근이 불가능합니다. 즉, 자동으로 프라이빗 서브넷이 됩니다.
              </p>
            </div>
          </li>

          <li class="step">
            <div class="step-title">퍼블릭 서브넷에 퍼블릭 IP 자동 할당 활성화</div>
            <p>퍼블릭 서브넷에서 EC2를 생성할 때 자동으로 퍼블릭 IP를 받도록 설정합니다.</p>
            <p><strong>"서브넷(Subnets)"</strong>으로 돌아가서 <code>shop-pblic-subnet-1</code>을 선택합니다.</p>
            <p><strong>"작업(Actions) → 서브넷 설정 편집(Edit subnet settings)"</strong>을 클릭합니다.</p>
            <p><strong>"퍼블릭 IPv4 주소 자동 할당 활성화(Enable auto-assign public IPv4 address)"</strong>에 체크합니다.</p>
            <p><strong>"저장"</strong>을 클릭합니다.</p>
            <img src="../assets/images/chapter8/auto-IP.png" alt="자동 할당 IP 설정">
            <p><code>shop-public-subnet-2</code>에도 같은 설정을 합니다.</p>
          </li>
        </ol>

        <div class="info-box concept">
          <div class="info-box-title">완성된 VPC 구조</div>
          <p>
            축하합니다! 다음과 같은 VPC 네트워크가 완성되었습니다:
          </p>
        </div>

        <div class="diagram">
          <div class="diagram-title">완성된 ShopEasy VPC 구조</div>

          <div class="diagram-box user">
            <div class="box-title">인터넷</div>
          </div>

          <div class="diagram-arrow down">&darr;</div>

          <div class="diagram-box network">
            <div class="box-title">ShopEasy-IGW</div>
            <div class="box-sub">인터넷 게이트웨이</div>
          </div>

          <div class="diagram-arrow down">&darr;</div>

          <div class="diagram-group vpc">
            <div class="diagram-group-label">ShopEasy-VPC (10.0.0.0/16)</div>
            <div class="diagram-row" style="align-items: flex-start;">
              <div class="diagram-col" style="flex:1">
                <div style="text-align:center; font-weight:600; margin-bottom:8px;">AZ-2a</div>
                <div class="diagram-group subnet-pub">
                  <div class="diagram-group-label">퍼블릭 10.0.1.0/24</div>
                  <div class="box-sub" style="text-align:center; color: #22c55e;">IGW로 라우팅 있음</div>
                </div>
                <div class="diagram-group subnet-priv" style="margin-top:8px;">
                  <div class="diagram-group-label">프라이빗 10.0.10.0/24</div>
                  <div class="box-sub" style="text-align:center; color: #ef4444;">IGW 경로 없음</div>
                </div>
              </div>
              <div class="diagram-col" style="flex:1">
                <div style="text-align:center; font-weight:600; margin-bottom:8px;">AZ-2c</div>
                <div class="diagram-group subnet-pub">
                  <div class="diagram-group-label">퍼블릭 10.0.2.0/24</div>
                  <div class="box-sub" style="text-align:center; color: #22c55e;">IGW로 라우팅 있음</div>
                </div>
                <div class="diagram-group subnet-priv" style="margin-top:8px;">
                  <div class="diagram-group-label">프라이빗 10.0.11.0/24</div>
                  <div class="box-sub" style="text-align:center; color: #ef4444;">IGW 경로 없음</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="info-box tip">
          <div class="info-box-title">다음 단계 미리보기</div>
          <p>
            다음 챕터(Chapter 09)에서는 이 VPC에 NAT 게이트웨이를 추가하고,
            보안그룹과 NACL을 설정합니다. 그 다음 Chapter 10에서는
            Chapter 05~06에서 기본 VPC에 배포한 ShopEasy를 이 커스텀 VPC로 이전합니다!
          </p>
        </div>
      </div>
    </section>

    <!-- Navigation -->
    <div class="chapter-nav">
      <a href="07-elastic-ip-cost.html" class="prev">이전: 탄력적 IP & 비용 관리</a>
      <a href="09-vpc-advanced.html" class="next">다음: VPC 심화</a>
    </div>
  </main>
</div>

<script src="../assets/js/main.js"></script>
</body>

</html>
