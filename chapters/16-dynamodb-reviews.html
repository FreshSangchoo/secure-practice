<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DynamoDB & 리뷰 시스템 - AWS 기초 강의</title>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>

<header class="site-header">
  <div class="header-inner">
    <a href="../index.html" class="header-logo">
      <span class="aws-icon">AWS</span>
      <span>기초 강의</span>
    </a>
  </div>
</header>

<div class="page-layout">
  <nav class="sidebar">
    <ul class="sidebar-nav">
      <li><a href="#what-is-nosql">NoSQL이란?</a></li>
      <li><a href="#rds-vs-dynamodb">RDS vs DynamoDB</a></li>
      <li><a href="#dynamodb-concepts">DynamoDB 핵심 개념</a></li>
      <li><a href="#capacity-modes">용량 모드</a></li>
      <li><a href="#why-dynamodb-reviews">왜 리뷰를 DynamoDB에?</a></li>
      <li><a href="#lab">실습</a></li>
    </ul>
  </nav>

  <main class="main-content">
    <div class="chapter-header">
      <span class="chapter-num">Chapter 16</span>
      <h1>DynamoDB & 리뷰 시스템</h1>
      <div class="objectives">
        <h3>학습 목표</h3>
        <ul>
          <li>NoSQL 데이터베이스의 개념과 RDS와의 차이를 이해한다</li>
          <li>DynamoDB의 핵심 개념(테이블, 파티션키, 정렬키)을 파악한다</li>
          <li>DynamoDB 테이블을 생성하고 데이터를 조작한다</li>
          <li>ShopEasy 리뷰 시스템을 DynamoDB로 구현한다</li>
        </ul>
      </div>
    </div>

    <!-- Section 1: NoSQL이란? -->
    <section class="content-section" id="what-is-nosql">
      <h2>NoSQL이란?</h2>

      <div class="info-box analogy">
        <div class="info-box-title">비유로 이해하기: 엑셀 vs 자유 노트</div>
        <p><strong>RDS(SQL)</strong>는 <strong>엑셀 스프레드시트</strong>와 같습니다. 행과 열이 정해져 있고, 모든 행은 같은 열 구조를 따라야 합니다. "이름, 나이, 주소" 열이 있으면 모든 행에 이 세 가지가 있어야 하죠.<br><br>
        <strong>DynamoDB(NoSQL)</strong>는 <strong>자유 노트</strong>와 같습니다. 첫 번째 메모에는 이름만, 두 번째 메모에는 이름과 사진 3장, 세 번째 메모에는 이름과 태그 5개... 각 메모마다 내용이 달라도 괜찮습니다!</p>
      </div>

      <h3>SQL vs NoSQL 비교</h3>
      <table>
        <thead>
          <tr><th>구분</th><th>SQL (RDS)</th><th>NoSQL (DynamoDB)</th></tr>
        </thead>
        <tbody>
          <tr><td><strong>구조</strong></td><td>고정된 스키마 (테이블/행/열)</td><td>유연한 스키마 (키-값)</td></tr>
          <tr><td><strong>관계</strong></td><td>테이블 간 JOIN 가능</td><td>JOIN 없음</td></tr>
          <tr><td><strong>확장</strong></td><td>수직 확장 (더 큰 서버)</td><td>수평 확장 (서버 추가)</td></tr>
          <tr><td><strong>쿼리</strong></td><td>복잡한 SQL 가능</td><td>키 기반 단순 조회</td></tr>
          <tr><td><strong>성능</strong></td><td>데이터 커지면 느려질 수 있음</td><td>일관된 밀리초 응답</td></tr>
          <tr><td><strong>비유</strong></td><td>엑셀 (정형)</td><td>자유 노트 (비정형)</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Section 2: RDS vs DynamoDB -->
    <section class="content-section" id="rds-vs-dynamodb">
      <h2>RDS와 DynamoDB: 언제 뭘 쓰나?</h2>

      <div class="info-box analogy">
        <div class="info-box-title">비유로 이해하기: 서류함 vs 파일 박스</div>
        <p><strong>RDS</strong>는 깔끔하게 분류된 <strong>서류함</strong>입니다. "고객 정보" 서랍, "주문 내역" 서랍이 있고, 서류 양식이 정해져 있어서 찾기 쉽습니다. 하지만 서류함 크기에 한계가 있죠.<br><br>
        <strong>DynamoDB</strong>는 <strong>무한대 크기의 파일 박스</strong>입니다. 각 파일에 이름표(키)만 붙이면 안에 뭐가 들어있든 상관없습니다. 엄청나게 많은 파일도 이름표로 빠르게 찾을 수 있습니다.</p>
      </div>

      <table>
        <thead>
          <tr><th>데이터 특성</th><th>RDS 적합</th><th>DynamoDB 적합</th></tr>
        </thead>
        <tbody>
          <tr><td><strong>관계가 복잡</strong></td><td>주문-상품-고객 연관</td><td>-</td></tr>
          <tr><td><strong>구조가 일정</strong></td><td>상품(이름,가격,재고)</td><td>-</td></tr>
          <tr><td><strong>구조가 유동적</strong></td><td>-</td><td>리뷰(텍스트+사진 0~5장)</td></tr>
          <tr><td><strong>대량 읽기/쓰기</strong></td><td>-</td><td>로그, 세션, 실시간 데이터</td></tr>
          <tr><td><strong>트랜잭션 필수</strong></td><td>결제, 재고 관리</td><td>-</td></tr>
        </tbody>
      </table>

      <div class="info-box concept">
        <div class="info-box-title">ShopEasy에서의 역할 분담</div>
        <p><strong>RDS MySQL</strong>: 상품 정보, 주문, 사용자 (정형 데이터, 관계 필요)<br>
        <strong>DynamoDB</strong>: 리뷰 (비정형 데이터, 사진 개수 가변, 빠른 읽기 필요)</p>
      </div>
    </section>

    <!-- Section 3: DynamoDB 핵심 개념 -->
    <section class="content-section" id="dynamodb-concepts">
      <h2>DynamoDB 핵심 개념</h2>

      <h3>테이블, 아이템, 속성</h3>
      <div class="info-box analogy">
        <div class="info-box-title">비유로 이해하기: 도서관 카탈로그</div>
        <p><strong>테이블</strong>은 <strong>도서관의 카탈로그 상자</strong>입니다.<br>
        <strong>아이템</strong>은 상자 안의 <strong>카탈로그 카드 한 장</strong>이고요.<br>
        <strong>속성</strong>은 카드에 적힌 <strong>정보(제목, 저자, 출판년도...)</strong>입니다.<br>
        각 카드마다 적힌 정보가 다를 수 있다는 것이 RDS와 다른 점입니다!</p>
      </div>

      <h3>파티션 키 (Partition Key)</h3>
      <p>각 아이템을 고유하게 식별하는 <strong>기본 키</strong>입니다. DynamoDB는 파티션 키를 해시하여 데이터를 여러 파티션에 분산 저장합니다.</p>

      <h3>정렬 키 (Sort Key)</h3>
      <p>파티션 키와 함께 사용하는 <strong>복합 키</strong>입니다. 같은 파티션 키를 가진 아이템들을 정렬 키로 정렬합니다.</p>

      <div class="info-box analogy">
        <div class="info-box-title">비유로 이해하기: 도서관 책꽂이</div>
        <p><strong>파티션 키</strong>는 <strong>책꽂이 번호</strong>(장르별 서가)와 같습니다. "소설 서가", "과학 서가"처럼 큰 분류죠.<br>
        <strong>정렬 키</strong>는 같은 서가 안에서 <strong>작가명 순서</strong>로 정렬하는 것과 같습니다.<br>
        "소설 서가에서 가나다순으로 찾기" = "파티션 키(소설) + 정렬 키(작가명)"</p>
      </div>

      <h3>리뷰 테이블 설계</h3>
      <table>
        <thead>
          <tr><th>속성</th><th>타입</th><th>역할</th><th>예시</th></tr>
        </thead>
        <tbody>
          <tr><td><code>productId</code></td><td>String</td><td><strong>파티션 키(PK)</strong></td><td>"prod-001"</td></tr>
          <tr><td><code>createdAt#userId</code></td><td>String</td><td><strong>정렬 키(SK)</strong></td><td>"2024-01-15T10:30:00#user-123"</td></tr>
          <tr><td><code>rating</code></td><td>Number</td><td>별점</td><td>5</td></tr>
          <tr><td><code>content</code></td><td>String</td><td>리뷰 내용</td><td>"배송 빠르고 품질 좋아요!"</td></tr>
          <tr><td><code>userName</code></td><td>String</td><td>작성자 이름</td><td>"김철수"</td></tr>
          <tr><td><code>photos</code></td><td>List</td><td>사진 URL 목록 (0~5개)</td><td>["photo1.jpg", "photo2.jpg"]</td></tr>
        </tbody>
      </table>

      <div class="info-box concept">
        <div class="info-box-title">정렬 키 설계: createdAt#userId</div>
        <p>정렬 키를 <code>createdAt#userId</code>로 설계한 이유:</p>
        <ul>
          <li><strong>시간순 정렬</strong>: 최신 리뷰부터 조회 가능 (createdAt으로 정렬)</li>
          <li><strong>고유성 보장</strong>: 같은 시간에 같은 상품에 리뷰를 쓰더라도 userId로 구분</li>
          <li><strong>범위 쿼리</strong>: 특정 기간의 리뷰만 조회 가능</li>
        </ul>
      </div>
    </section>

    <!-- Section 4: 용량 모드 -->
    <section class="content-section" id="capacity-modes">
      <h2>용량 모드</h2>

      <table>
        <thead>
          <tr><th>구분</th><th>온디맨드 모드</th><th>프로비저닝 모드</th></tr>
        </thead>
        <tbody>
          <tr><td><strong>과금 방식</strong></td><td>실제 사용한 만큼</td><td>미리 예약한 만큼</td></tr>
          <tr><td><strong>적합한 경우</strong></td><td>트래픽 예측 불가</td><td>트래픽 패턴 안정적</td></tr>
          <tr><td><strong>비용</strong></td><td>요청당 과금</td><td>예약 용량 과금</td></tr>
          <tr><td><strong>확장</strong></td><td>자동 (무제한)</td><td>Auto Scaling 설정 필요</td></tr>
        </tbody>
      </table>

      <div class="info-box analogy">
        <div class="info-box-title">비유로 이해하기: 택시 vs 월정액 버스</div>
        <p><strong>온디맨드 모드</strong>는 <strong>택시</strong>입니다. 탈 때만 돈을 내고, 안 타면 비용이 없습니다. 하지만 많이 타면 비쌉니다.<br>
        <strong>프로비저닝 모드</strong>는 <strong>월정액 통근버스</strong>입니다. 매월 일정 금액을 내고, 그 범위 안에서 자유롭게 이용합니다. 많이 타면 유리하지만, 안 타도 비용이 발생합니다.</p>
      </div>

      <div class="info-box tip">
        <div class="info-box-title">학습에서는 온디맨드 모드</div>
        <p>학습 환경에서는 사용량이 적으므로 <strong>온디맨드 모드</strong>를 사용합니다. AWS 프리티어에서 DynamoDB는 월 25GB 스토리지 + 25 WCU/25 RCU가 영구 무료입니다.</p>
      </div>
    </section>

    <!-- Section 5: 왜 리뷰를 DynamoDB에? -->
    <section class="content-section" id="why-dynamodb-reviews">
      <h2>왜 리뷰를 DynamoDB에 저장하나?</h2>

      <ul>
        <li><strong>유연한 스키마</strong>: 리뷰마다 사진이 0장일 수도, 5장일 수도 있음. RDS에서는 별도 테이블이 필요하지만 DynamoDB는 리스트로 간단히 저장</li>
        <li><strong>빠른 읽기</strong>: 상품 페이지에서 리뷰 목록을 빠르게 로드해야 함. DynamoDB는 파티션 키(productId)로 밀리초 내에 조회</li>
        <li><strong>확장성</strong>: 인기 상품의 리뷰가 수만 개가 되어도 성능 저하 없음</li>
        <li><strong>비용 효율</strong>: 리뷰 읽기가 대부분이고 쓰기는 적음. 온디맨드 모드로 비용 최적화</li>
      </ul>

      <div class="info-box analogy">
        <div class="info-box-title">비유로 이해하기: 포스트잇 벽</div>
        <p>각 상품 페이지를 <strong>포스트잇 벽</strong>이라고 생각하세요. 고객들이 포스트잇(리뷰)을 벽에 붙입니다. 어떤 포스트잇에는 글만, 어떤 것에는 글+사진, 또 어떤 것에는 글+사진+별점이 있죠. 이런 자유로운 형식은 DynamoDB에 딱 맞습니다. 그리고 상품별로 벽이 나뉘어 있으니(파티션 키 = productId), 원하는 상품의 리뷰만 빠르게 찾을 수 있습니다.</p>
      </div>
    </section>

    <!-- Lab Section -->
    <section class="content-section" id="lab">
      <h2>실습</h2>

      <div class="lab-section">
        <div class="lab-title">실습: DynamoDB로 리뷰 시스템 구현하기</div>

        <div class="info-box danger">
          <div class="info-box-title">비용 안내</div>
          <p>DynamoDB는 <strong>영구 프리티어</strong>입니다 (12개월 제한 없음). 월 25GB 스토리지와 25 RCU/WCU가 무료입니다. 학습 수준의 사용량은 프리티어 범위 내이므로 비용 걱정은 없습니다.</p>
        </div>

        <ol class="steps">
          <!-- Step 1 -->
          <li class="step">
            <div class="step-title">DynamoDB 테이블 생성</div>
            <p><strong>AWS 콘솔 &rarr; DynamoDB &rarr; Tables &rarr; Create table</strong></p>

            <h4>Table details</h4>
            <ul>
              <li><strong>Table name</strong>: <code>Reviews</code></li>
              <li><strong>Partition key</strong>: <code>productId</code> (String)</li>
              <li><strong>Sort key</strong>: <code>createdAt#userId</code> (String)</li>
            </ul>

            <h4>Table settings</h4>
            <ul>
              <li><strong>Table settings</strong>: <code>Customize settings</code></li>
              <li><strong>Table class</strong>: DynamoDB Standard</li>
              <li><strong>Read/write capacity settings</strong>: <code>On-demand</code></li>
            </ul>

            <p><strong>Create table</strong> 클릭</p>

            <div class="screenshot-placeholder">[스크린샷: DynamoDB 테이블 생성 설정]</div>

            <div class="info-box tip">
              <div class="info-box-title">테이블 생성은 몇 초면 됩니다!</div>
              <p>RDS와 달리 DynamoDB 테이블은 거의 즉시 생성됩니다. 이것이 서버리스 서비스의 장점입니다. 인프라 프로비저닝이 필요 없죠.</p>
            </div>
          </li>

          <!-- Step 2 -->
          <li class="step">
            <div class="step-title">콘솔에서 아이템 직접 추가</div>
            <p>DynamoDB 콘솔에서 직접 리뷰 데이터를 추가해봅니다.</p>
            <p><strong>DynamoDB &rarr; Tables &rarr; Reviews &rarr; Explore table items &rarr; Create item</strong></p>

            <p>상단의 <strong>JSON view</strong>를 클릭하고 다음 JSON을 입력합니다:</p>
            <div class="code-block">
              <div class="code-header"><span class="lang">json</span><button class="copy-btn">복사</button></div>
              <pre><code>{
  "productId": {
    "S": "1"
  },
  "createdAt#userId": {
    "S": "2024-01-15T10:30:00#user-001"
  },
  "rating": {
    "N": "5"
  },
  "content": {
    "S": "배송이 정말 빠르고 품질도 좋습니다! 강력 추천합니다."
  },
  "userName": {
    "S": "김철수"
  },
  "photos": {
    "L": [
      {"S": "https://example.com/review-photos/photo1.jpg"},
      {"S": "https://example.com/review-photos/photo2.jpg"}
    ]
  }
}</code></pre>
            </div>
            <p><strong>Create item</strong> 클릭</p>

            <p>리뷰를 하나 더 추가합니다:</p>
            <div class="code-block">
              <div class="code-header"><span class="lang">json</span><button class="copy-btn">복사</button></div>
              <pre><code>{
  "productId": {
    "S": "1"
  },
  "createdAt#userId": {
    "S": "2024-01-16T14:20:00#user-002"
  },
  "rating": {
    "N": "4"
  },
  "content": {
    "S": "전반적으로 만족합니다. 다만 포장이 조금 아쉬웠어요."
  },
  "userName": {
    "S": "이영희"
  }
}</code></pre>
            </div>
            <p>두 번째 리뷰에는 <code>photos</code> 속성이 없습니다. DynamoDB에서는 이것이 완전히 괜찮습니다!</p>

            <div class="info-box analogy">
              <div class="info-box-title">비유로 이해하기: 유연한 스키마</div>
              <p>RDS에서는 "photos 열"을 정의하면 모든 행에 이 열이 있어야 합니다 (NULL이라도). 하지만 DynamoDB에서는 사진이 없는 리뷰에는 photos 속성 자체를 안 넣어도 됩니다. 마치 자유 노트에 필요한 내용만 적는 것과 같죠.</p>
            </div>

            <div class="screenshot-placeholder">[스크린샷: DynamoDB 아이템 추가 화면]</div>
          </li>

          <!-- Step 3 -->
          <li class="step">
            <div class="step-title">콘솔에서 아이템 조회</div>
            <p><strong>DynamoDB &rarr; Tables &rarr; Reviews &rarr; Explore table items</strong></p>

            <h4>Scan (전체 조회)</h4>
            <p>기본적으로 Scan이 선택되어 있습니다. <strong>Run</strong>을 클릭하면 모든 아이템이 표시됩니다.</p>

            <h4>Query (조건 조회)</h4>
            <p><strong>Query</strong> 탭을 선택하고:</p>
            <ul>
              <li><strong>Partition key (productId)</strong>: <code>1</code></li>
              <li><strong>Run</strong> 클릭</li>
            </ul>
            <p>상품 ID가 "1"인 모든 리뷰가 정렬 키(createdAt) 순서로 표시됩니다.</p>

            <div class="screenshot-placeholder">[스크린샷: DynamoDB Query 결과 - 상품 1의 리뷰 목록]</div>

            <div class="info-box concept">
              <div class="info-box-title">Scan vs Query</div>
              <p><strong>Scan</strong>은 테이블 전체를 읽습니다. 데이터가 많으면 느리고 비용이 큽니다.<br>
              <strong>Query</strong>는 파티션 키를 지정하여 해당 파티션만 읽습니다. 빠르고 효율적입니다.<br>
              실무에서는 가능하면 항상 Query를 사용하세요.</p>
            </div>
          </li>

          <!-- Step 4 -->
          <li class="step">
            <div class="step-title">AWS CLI로 DynamoDB 조작</div>
            <p>API 서버 EC2에서 AWS CLI로도 DynamoDB를 조작할 수 있습니다.</p>
            <div class="code-block">
              <div class="code-header"><span class="lang">bash</span><button class="copy-btn">복사</button></div>
              <pre><code># 아이템 추가
aws dynamodb put-item \
  --table-name Reviews \
  --item '{
    "productId": {"S": "2"},
    "createdAt#userId": {"S": "2024-01-17T09:00:00#user-003"},
    "rating": {"N": "3"},
    "content": {"S": "보통이에요. 가격 대비 그저 그렇습니다."},
    "userName": {"S": "박지민"}
  }' \
  --region ap-northeast-2</code></pre>
            </div>

            <div class="code-block">
              <div class="code-header"><span class="lang">bash</span><button class="copy-btn">복사</button></div>
              <pre><code># 특정 상품의 리뷰 조회 (Query)
aws dynamodb query \
  --table-name Reviews \
  --key-condition-expression "productId = :pid" \
  --expression-attribute-values '{":pid": {"S": "1"}}' \
  --region ap-northeast-2</code></pre>
            </div>

            <div class="info-box warning">
              <div class="info-box-title">EC2에 IAM 역할이 필요합니다</div>
              <p>EC2에서 AWS CLI로 DynamoDB에 접근하려면 <strong>IAM 역할</strong>이 EC2에 연결되어 있어야 합니다. <strong>EC2 &rarr; 인스턴스 &rarr; Actions &rarr; Security &rarr; Modify IAM role</strong>에서 DynamoDB 권한이 포함된 역할을 연결하세요.</p>
            </div>

            <div class="code-block">
              <div class="code-header"><span class="lang">bash</span><button class="copy-btn">복사</button></div>
              <pre><code># IAM 역할 생성 (AWS CLI)
# 먼저 신뢰 정책 파일 생성
cat > trust-policy.json &lt;&lt;'EOF'
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {"Service": "ec2.amazonaws.com"},
      "Action": "sts:AssumeRole"
    }
  ]
}
EOF

# IAM 역할 생성
aws iam create-role \
  --role-name EC2-ShopEasy-Role \
  --assume-role-policy-document file://trust-policy.json

# DynamoDB 접근 정책 연결
aws iam attach-role-policy \
  --role-name EC2-ShopEasy-Role \
  --policy-arn arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess

# 인스턴스 프로필 생성 및 역할 연결
aws iam create-instance-profile --instance-profile-name EC2-ShopEasy-Profile
aws iam add-role-to-instance-profile \
  --instance-profile-name EC2-ShopEasy-Profile \
  --role-name EC2-ShopEasy-Role</code></pre>
            </div>

            <p>AWS 콘솔에서 EC2에 역할을 연결합니다:</p>
            <p><strong>EC2 &rarr; Instances &rarr; API 서버 선택 &rarr; Actions &rarr; Security &rarr; Modify IAM role</strong></p>
            <ul>
              <li><strong>IAM role</strong>: <code>EC2-ShopEasy-Role</code></li>
            </ul>
            <p><strong>Update IAM role</strong> 클릭</p>
            <div class="screenshot-placeholder">[스크린샷: EC2에 IAM 역할 연결]</div>
          </li>

          <!-- Step 5 -->
          <li class="step">
            <div class="step-title">API 서버 .env 변경 (리뷰 스토어 전환)</div>
            <p>API 서버에서 리뷰 저장소를 DynamoDB로 전환합니다.</p>
            <div class="code-block">
              <div class="code-header"><span class="lang">bash</span><button class="copy-btn">복사</button></div>
              <pre><code># API 서버 EC2에서
cd ~/ecommerce-app/api-server

# .env 파일에 DynamoDB 설정 추가
cat >> .env &lt;&lt;'EOF'

# DynamoDB 설정
REVIEW_STORE=dynamodb
DYNAMODB_TABLE_REVIEWS=Reviews
AWS_REGION=ap-northeast-2
EOF

# .env 확인
cat .env</code></pre>
            </div>

            <div class="code-block">
              <div class="code-header"><span class="lang">bash</span><button class="copy-btn">복사</button></div>
              <pre><code># AWS SDK 설치 (DynamoDB 클라이언트)
npm install @aws-sdk/client-dynamodb @aws-sdk/lib-dynamodb</code></pre>
            </div>
          </li>

          <!-- Step 6 -->
          <li class="step">
            <div class="step-title">API 서버 재시작</div>
            <div class="code-block">
              <div class="code-header"><span class="lang">bash</span><button class="copy-btn">복사</button></div>
              <pre><code># API 서버 재시작
pm2 restart shopeasy-api

# 로그 확인
pm2 logs shopeasy-api --lines 20

# "Review store: DynamoDB" 또는 유사한 메시지 확인</code></pre>
            </div>
          </li>

          <!-- Step 7 -->
          <li class="step">
            <div class="step-title">브라우저에서 리뷰 작성 및 DynamoDB 확인</div>
            <p>브라우저에서 ShopEasy에 접속하여 상품 상세 페이지에서 리뷰를 작성합니다.</p>

            <div class="code-block">
              <div class="code-header"><span class="lang">text</span><button class="copy-btn">복사</button></div>
              <pre><code>http://&lt;프론트엔드-퍼블릭-IP&gt;</code></pre>
            </div>

            <ol>
              <li>상품 하나를 클릭하여 상세 페이지로 이동</li>
              <li>리뷰 작성 폼에 별점, 내용을 입력</li>
              <li>리뷰 등록 버튼 클릭</li>
              <li>페이지에서 리뷰가 표시되는지 확인</li>
            </ol>
            <div class="screenshot-placeholder">[스크린샷: 브라우저에서 리뷰 작성]</div>

            <p>DynamoDB 콘솔에서 데이터를 확인합니다:</p>
            <p><strong>AWS 콘솔 &rarr; DynamoDB &rarr; Tables &rarr; Reviews &rarr; Explore table items</strong></p>
            <p>브라우저에서 작성한 리뷰가 DynamoDB에 저장된 것을 확인합니다.</p>
            <div class="screenshot-placeholder">[스크린샷: DynamoDB 콘솔에서 새 리뷰 확인]</div>

            <div class="info-box tip">
              <div class="info-box-title">성공 확인 포인트</div>
              <ul>
                <li>브라우저에서 리뷰 작성이 정상적으로 동작</li>
                <li>DynamoDB 콘솔에서 새 아이템이 생성됨</li>
                <li>API 서버 로그에 에러가 없음</li>
                <li>다른 상품에서도 리뷰 작성/조회가 정상</li>
              </ul>
            </div>
          </li>

          <!-- Step 8 -->
          <li class="step">
            <div class="step-title">API로 리뷰 조회 테스트</div>
            <div class="code-block">
              <div class="code-header"><span class="lang">bash</span><button class="copy-btn">복사</button></div>
              <pre><code># 특정 상품의 리뷰 조회
curl http://localhost:5000/api/products/1/reviews | python3 -m json.tool

# ALB를 통한 조회
curl http://alb-shopeasy-xxxxx.ap-northeast-2.elb.amazonaws.com/api/products/1/reviews | python3 -m json.tool</code></pre>
            </div>
          </li>
        </ol>
      </div>

      <div class="info-box concept">
        <div class="info-box-title">이번 챕터에서 달성한 것</div>
        <ul>
          <li>NoSQL(DynamoDB)과 SQL(RDS)의 차이와 적합한 용도 이해</li>
          <li>DynamoDB 테이블 생성 (파티션 키 + 정렬 키)</li>
          <li>콘솔과 CLI로 데이터 추가/조회</li>
          <li>EC2에 IAM 역할 연결 (DynamoDB 접근 권한)</li>
          <li>ShopEasy 리뷰 시스템을 DynamoDB로 전환</li>
        </ul>
      </div>

      <div class="diagram">
        <div class="diagram-title">현재 아키텍처</div>
        <div class="diagram-row">
          <div class="diagram-box user"><div class="box-title">브라우저</div></div>
          <div class="diagram-arrow">→</div>
          <div class="diagram-box compute"><div class="box-title">프론트엔드</div></div>
          <div class="diagram-arrow">→</div>
          <div class="diagram-box network"><div class="box-title">ALB</div></div>
          <div class="diagram-arrow">→</div>
          <div class="diagram-box compute"><div class="box-title">API 서버</div><div class="box-sub">Auto Scaling</div></div>
        </div>
        <div class="diagram-arrow down">↓</div>
        <div class="diagram-row">
          <div class="diagram-box database"><div class="box-title">RDS MySQL</div><div class="box-sub">상품, 주문</div></div>
          <div class="diagram-box database"><div class="box-title">DynamoDB</div><div class="box-sub">리뷰</div></div>
        </div>
      </div>
    </section>

    <div class="chapter-nav">
      <a href="15-rds-operations.html" class="prev">이전: RDS 운영</a>
      <a href="17-s3-review-photos.html" class="next">다음: S3 & 리뷰 사진 업로드</a>
    </div>
  </main>
</div>

<script src="../assets/js/main.js"></script>
</body>

</html>
